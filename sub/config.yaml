
mixed-port: 7890
allow-lan: true
mode: rule
log-level: info
ipv6: false

proxy-providers:
  my_nodes:
    type: http
    url: "https://raw.githubusercontent.com/awwy1222/V2RayAggregator/master/sub/sub_merge.txt"
    interval: 3600
    path: ./nodes_list.txt
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204

proxy-groups:
  # --- Gemini ä¸“ç”¨ç»„ ---
  # æ ¸å¿ƒåŸç†ï¼šè®¿é—® Gemini API æ¥å£ã€‚
  # 1. å¦‚æœ IP è¢«ç¦ï¼Œè¿”å› 403 -> Clash åˆ¤å®šå¤±è´¥
  # 2. å¦‚æœåœ°åŒºä¸æ”¯æŒï¼Œè¿”å› 400 -> Clash åˆ¤å®šå¤±è´¥
  # 3. åªæœ‰çœŸæ­£èƒ½ç”¨çš„ IP æ‰ä¼šæ˜¾ç¤ºå»¶è¿Ÿï¼Œè¿›å…¥è¯¥ç»„
  - name: ğŸ¤– Gemini ä¸“ç”¨
    type: url-test
    use: [my_nodes]
    url: 'https://generativelanguage.googleapis.com/v1beta/models?key=detect'
    interval: 300
    tolerance: 50
  
  - name: ğŸš€ å…¨çƒè‡ªåŠ¨
    type: url-test
    use: [my_nodes]
    url: 'http://www.gstatic.com/generate_204'
    interval: 300

  - name: ğŸ¯ æ‰‹åŠ¨åˆ‡æ¢
    type: select
    use: [my_nodes]

rules:
  - DOMAIN-SUFFIX,gemini.google.com,ğŸ¤– Gemini ä¸“ç”¨
  - DOMAIN-SUFFIX,generativelanguage.googleapis.com,ğŸ¤– Gemini ä¸“ç”¨
  - DOMAIN-SUFFIX,aistudio.google.com,ğŸ¤– Gemini ä¸“ç”¨
  - GEOIP,CN,DIRECT
  - MATCH,ğŸš€ å…¨çƒè‡ªåŠ¨
