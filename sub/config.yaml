
mixed-port: 7890
allow-lan: true
mode: rule
log-level: info
ipv6: false

proxy-providers:
  my_nodes:
    type: http
    url: "https://mirror.ghproxy.com/https://raw.githubusercontent.com/awwy1222/V2RayAggregator/master/sub/sub_merge.txt"
    interval: 3600
    path: ./nodes_data.txt
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204

proxy-groups:
  # --- 1. Gemini ä¸“é¡¹ç»„ï¼šåªåœ¨è¿™é‡Œç”¨ä¸“é¡¹æ¢æµ‹ ---
  - name: ğŸ¤– Gemini ä¸“ç”¨
    type: url-test
    use: [my_nodes]
    url: 'https://generativelanguage.googleapis.com/v1beta/models?key=CHECK'
    interval: 300
    tolerance: 50
  
  # --- 2. è‡ªåŠ¨é€‰æ‹©ç»„ï¼šå…¨é‡èŠ‚ç‚¹å‚ä¸æµ‹é€Ÿ ---
  - name: ğŸš€ å…¨çƒè‡ªåŠ¨
    type: url-test
    use: [my_nodes]
    url: 'http://www.gstatic.com/generate_204'
    interval: 300

  # --- 3. æ‰‹åŠ¨åˆ‡æ¢ç»„ï¼šå…¨é‡èŠ‚ç‚¹å¯è§ ---
  - name: ğŸ¯ æ‰‹åŠ¨åˆ‡æ¢
    type: select
    use: [my_nodes]

rules:
  # åˆ†æµé€»è¾‘
  - DOMAIN-SUFFIX,gemini.google.com,ğŸ¤– Gemini ä¸“ç”¨
  - DOMAIN-SUFFIX,generativelanguage.googleapis.com,ğŸ¤– Gemini ä¸“ç”¨
  - DOMAIN-SUFFIX,aistudio.google.com,ğŸ¤– Gemini ä¸“ç”¨
  - GEOIP,CN,DIRECT
  - MATCH,ğŸš€ å…¨çƒè‡ªåŠ¨
